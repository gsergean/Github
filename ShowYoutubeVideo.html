<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" /> 

<script>
var w, h;
const queryString = window.location.search;
console.log("Query String=" + queryString);

const urlParams = new URLSearchParams(queryString);

const yt_code = urlParams.get('yt_code')
console.log("Youtube code=" + yt_code);

const height = urlParams.get('height')
console.log("Height=" + height);

const start = urlParams.get('start')
console.log("Start=" + start);

const end = urlParams.get('end')
console.log("End=" + end);

// debugger;
    
if (height == null) {
    w = 300;
    h = 50;
} else if (height == 1) {
    w = 200;
    h = 50;
} else if (height == 2) {
    w = 500;
    h = 330;
} else {
    w = 300;
    h = 50;
};

function SetVideoUrl() {
    alert("SetVideoUrl()");
    var ifr = document.getElementById("videoframe");
    debugger;
    ifr.width = w;
    ifr.height = h;
    ifr.src = "https://www.youtube.com/embed/" + yt_code + "?rel=0" + (start != "" && start != null ? "&start=" + start : "") 
                                                                    + (end != "" && end != null ? "&end=" + end : "") 
                                                                    + "&autoplay=1"
                                                                    + "&mute=0"
                                                                    + "&enablejsapi=1&origin=https://gsergean.github.io";
    console.log(ifr.src);
    ifr.allow = "autoplay; encrypted-media";
    ifr.focus();

    var btnPlay = document.querySelector("button.ytp-play-button");
    if (btnPlay != null) {
        btnPlay.click();
            
    }
}

alert("Geert");
    
document.addEventListener("DOMContentLoaded", function(){
    alert("Geert - DOMContentLoaded");
});
    
    document.onload()
</script>    
</head>

<body onload="SetVideoUrl()">
    
<iframe id="videoframe" width=500 height=400 src="" frameborder="0" allowfullscreen></iframe>

</body>
</html>